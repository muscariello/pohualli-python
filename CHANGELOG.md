# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/) and this project (for now) follows simple semantic versioning (MAJOR.MINOR.PATCH).

## [0.2.0] - 2025-09-04
### Added
- Continuous Integration workflow (`ci.yml`) running tests across Python 3.10–3.13.
- Coverage reporting via `pytest-cov` and Codecov upload + badge.
- Automated release workflow (`release.yml`): tag validation, build, PyPI publish, attestations, hash printing, GitHub Release with autogenerated notes.
- Docker multi-arch build workflow (amd64/arm64) (earlier iteration, retained).
- Year bearer human-readable display (adds unpacked name) in composite result and UI.
- Local storage persistence for correction inputs; Reset and Defaults actions in web UI.
- Dark / light theme toggle with stored preference; improved styling for readability.
- MkDocs documentation site (Material theme) with conceptual pages (calendars, configuration, CLI, API stub) and extended 819‑day cycle explanation.
- Added scholarly references including Sołtysiak & Lebeuf (2011) and anchor-linked Wikipedia sections for 819‑day count and Year Bearer.
- Added CODEOWNERS file.
- Added SPDX headers (GPL-3.0-only) to all source files.

### Changed
- Project license switched from MIT (early draft) to GPL-3.0-only; updated `LICENSE`, SPDX tags, and pyproject metadata.
- Packaging metadata enhanced: keywords, classifiers, project URLs, README as long description, coverage config.
- `pyproject.toml` license field modernized to SPDX string; removed deprecated license classifier to silence build warnings.

### Fixed
- Template issue where extraneous CSS appeared (duplicate `</style>` removal).
- Optional query parameter parsing (avoided validation errors by manual conversion path earlier in cycle).

### Documentation
- Expanded 819‑day cycle rationale (directional colors, planetary synodic alignment discussion, references).
- Added Year Bearer anchor reference and general Mesoamerican calendar references.
- Added README references section and link to CHANGELOG.

### CI / Release
- Artifact upload restricted to pushes on `main` or tags.
- Tag-to-version guard ensures release tag matches `pyproject.toml` version.
- Added attestation & hash printing for PyPI publish step.

### Internal / Dev
- Coverage configuration (`tool.coverage.*`) added to `pyproject.toml`.

## [0.1.0] - 2025-08-??
### Added
- Initial Python port structure (`pohualli` package) with core calendrical computations (Tzolk'in, Haab, Long Count, 819‑day cycle, moon heuristics, planetary synodic values, zodiac logic, year bearer packing) and CLI.
- Basic FastAPI web UI with index template.
- Initial test suite covering composite, cycle, moon/zodiac, CLI, etc.

### Notes
- Early exploratory release prior to enhanced documentation, CI, and packaging metadata.

---

## Future
- Potential: auto-generated API docs (mkdocstrings), richer planetary cycle documentation, enhanced test coverage for lower-covered modules (`autocorr`, `zodiac`, `webapp`).

[0.2.0]: https://github.com/muscariello/pohualli-python/releases/tag/v0.2.0
[0.1.0]: https://github.com/muscariello/pohualli-python/releases/tag/v0.1.0
